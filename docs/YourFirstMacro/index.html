<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-YourFirstMacro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">Adding Your First Macro | Socket</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://JoelBrd.github.io/Socket/docs/YourFirstMacro"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Adding Your First Macro | Socket"><meta data-rh="true" name="description" content="If you&#x27;ve got this far, let&#x27;s assume that your interested in adding some Macros of your own to help improve your developer workflow!"><meta data-rh="true" property="og:description" content="If you&#x27;ve got this far, let&#x27;s assume that your interested in adding some Macros of your own to help improve your developer workflow!"><link data-rh="true" rel="icon" href="/Socket/square_logo_512.png"><link data-rh="true" rel="canonical" href="https://JoelBrd.github.io/Socket/docs/YourFirstMacro"><link data-rh="true" rel="alternate" href="https://JoelBrd.github.io/Socket/docs/YourFirstMacro" hreflang="en"><link data-rh="true" rel="alternate" href="https://JoelBrd.github.io/Socket/docs/YourFirstMacro" hreflang="x-default"><link rel="stylesheet" href="/Socket/assets/css/styles.b66543fc.css">
<link rel="preload" href="/Socket/assets/js/runtime~main.9fb98b55.js" as="script">
<link rel="preload" href="/Socket/assets/js/main.20b5481e.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Socket/"><b class="navbar__title text--truncate">Socket</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Socket/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/Socket/api/">API</a></div><div class="navbar__items navbar__items--right"><a href="https://www.roblox.com/library/9988470603/Socket" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Roblox<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/JoelBrd/Socket" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Press S to Search..." aria-label="Search" class="navbar__search-input search-bar"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Socket/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Socket/docs/Installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Socket/docs/YourFirstMacro">Adding Your First Macro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Socket/docs/Luau">Luau</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Socket/docs/Examples">Examples</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Socket/docs/AdvancedConcepts">Advanced Concepts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Socket/docs/Contributing">Contributing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Socket/docs/Changelog">Changelog</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Socket/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Adding Your First Macro</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Adding Your First Macro</h1><p>If you&#x27;ve got this far, let&#x27;s assume that your interested in adding some Macros of your own to help improve your developer workflow! </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-new-macro">Creating a new Macro<a class="hash-link" href="#creating-a-new-macro" title="Direct link to heading">â€‹</a></h2><p>Let&#x27;s make use of one of our Core Macros, <strong>Create Macro</strong> to create your first macro
<img loading="lazy" alt="image" src="data:image/png;base64,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" width="355" height="30" class="img_ev3q"></p><p>This creates a <code>ModuleScript</code> in the <code>SocketPlugin.Macros</code> directory</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>You can create folders in this directory to help organise your Macros; but the <code>Group</code> of a Macro is defined within the <code>ModuleScript</code> itself</p></div></div><p>You&#x27;ll get a <code>ModuleScript</code> with a <code>Source</code> similar to:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- Macro</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">--------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- Dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> ServerStorage </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> game</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">GetService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ServerStorage&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> Utils </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> ServerStorage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">SocketPlugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">FindFirstChild</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Utils&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> Logger </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Utils</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">--------------------------------------------------</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- Members</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> macroDefinition </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;%s&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Group </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Macros&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Icon </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;%s&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Description </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;%s&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">macroDefinition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Function </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> plugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">MacroInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Hello %s!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">format</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">--[[</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">        ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">        Your Logic Here</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">        ...</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">    ]]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> macroDefinition</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You&#x27;ll notice we&#x27;re returning a table with key/value pairs. For a full breakdown of what is on offer, and what they each do, see <a href="/Socket/api/MacroDefinition">MacroDefinition</a>.</p><p>There are 2 required key/value pairs:</p><ul><li>Name</li><li>Function</li></ul><p>Everything else is optional, or will be populated with a default value.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Try adding + configuring some fields, and see how the Widget updates! Keep an eye on the <em>output</em> window incase there are any issues with your <a href="/Socket/api/MacroDefinition">MacroDefinition</a>.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-our-code">Creating our code<a class="hash-link" href="#creating-our-code" title="Direct link to heading">â€‹</a></h2><p>We now have a fresh Macro, and have played around with how it appears on the Widget. Lets take a look at the tools we have when defining our <a href="/Socket/api/MacroDefinition#Function">Function</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="parameters">Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">â€‹</a></h3><p><a href="/Socket/api/MacroDefinition#Function">Function</a> gets passed 2 parameters; <code>macro</code>: <a href="/Socket/api/MacroDefinition">MacroDefinition</a>, <code>plugin</code>: <a href="https://developer.roblox.com/en-us/api-reference/class/Plugin" target="_blank" rel="noopener noreferrer">Plugin</a>.</p><ul><li><code>macro</code> is our <a href="/Socket/api/MacroDefinition">MacroDefinition</a>. It is important we reference <code>macro</code> inside our functions, and <strong>not</strong> <code>macroDefinition</code>. Changes are made outside the scope of the <code>ModuleScript</code> (e.g., if we change a <code>Field</code> value on the Widget, this is written to the <code>macro</code> variable and <strong>not</strong> <code>macroDefinition</code>)</li><li><code>plugin</code> is the actual <a href="https://developer.roblox.com/en-us/api-reference/class/Plugin" target="_blank" rel="noopener noreferrer">Plugin</a> object that <strong>Socket</strong> is under; this is passed for special use cases, as the <a href="https://developer.roblox.com/en-us/api-reference/class/Plugin" target="_blank" rel="noopener noreferrer">Plugin</a> object has unique API</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logging">Logging<a class="hash-link" href="#logging" title="Direct link to heading">â€‹</a></h3><p>You&#x27;ll notice in the template Macro that gets created, a required <code>Logger</code> file. This gives us access to <code>Logger:MacroInfo(macro, &quot;Hello!&quot;)</code> and <code>Logger:MacroWarn(macro, &quot;Uh Oh!&quot;)</code></p><p>This is just a nice way to print to the output, and show the Macro scope it came from. This is the same API used for when <strong>Socket</strong> detects an issue with a Macro and wants to inform the user (e.g., a required Field is missing its value)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-macro-parameter">Using the <code>macro</code> Parameter<a class="hash-link" href="#using-the-macro-parameter" title="Direct link to heading">â€‹</a></h3><p>You can reference any members of <code>macro</code> (see <a href="/Socket/api/MacroDefinition">MacroDefinition</a>).</p><p>One of the most useful members is <code>macro.State</code> (see <a href="/Socket/api/MacroDefinition#MacroState">MacroState</a>). Let&#x27;s take a quick look what that gives us access to:</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="macrostateisrunning--macrotoggleisrunning"><code>macro.State.IsRunning</code> &amp; <code>macro:ToggleIsRunning()</code><a class="hash-link" href="#macrostateisrunning--macrotoggleisrunning" title="Direct link to heading">â€‹</a></h4><p>We may want to have a Macro that has a toggleable routine; aka we can turn it on and off. We can change <code>macro.State.IsRunning</code> to keep track of the macro being on or off. We can toggle this using <a href="/Socket/api/MacroDefinition#ToggleIsRunning">ToggleIsRunning</a> and read it via <a href="/Socket/api/MacroDefinition#IsRunning">IsRunning</a>. These methods are sugar for manipulating values in <code>macro</code></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="macrostatefieldvalues"><code>macro.State.FieldValues</code><a class="hash-link" href="#macrostatefieldvalues" title="Direct link to heading">â€‹</a></h4><p>A strength of Socket is being able to declare values on the fly to be used in our Macros. These are easily accessible on the Widget, but we then ofcourse need to reference them in our <a href="/Socket/api/MacroDefinition#Function">Function</a>. <code>macro.State.FieldValues</code> is where the declared values of fields exist. If we have declared a field such as:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Fields </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Amount&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Type </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can access the value via <code>macro:GetFieldValue(&quot;Amount&quot;)</code> (which is sugar for <code>macro.State.FieldValues.Amount</code>)
Note that amount may not exist, so we can either:</p><ol><li>Run this check in our <code>Function</code></li><li>Do </li></ol><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Fields </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Amount&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Type </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            IsRequired </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If <code>IsRequired=true</code>, we will get a <code>Logger:MacroWarn</code> warning in our output if we run the macro and we have not declared a value for the Field. We can assume it exists in our <code>Function</code> now!</p><p>A nice trick we can do is if we want to declare a default value for a Field, we can mirror the following structure in our <a href="/Socket/api/MacroDefinition">MacroDefinition</a></p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Fields </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Amount&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Type </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    State </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        FieldValues </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Amount </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We may also have an input field that has some specific requirements (e.g., for an <code>Amount</code> value, we probably want a positive integer!). We can write these checks in our <a href="/Socket/api/MacroDefinition#Function">Function</a> ofcourse - a cleaner option is this:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Fields </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Amount&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Type </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;number&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            IsRequired </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            Validator </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> hasDecimalComponent </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> math</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">floor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">~=</span><span class="token plain"> value</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> isLessThanZero </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> value </span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> hasDecimalComponent </span><span class="token keyword" style="font-style:italic">or</span><span class="token plain"> isLessThanZero </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Must be a positive non-zero integer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If there is an issue, return a string detailing the issue. This will be written to the output, along with the context of the Field (Macro, Field Name/Type/Value)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bindtoclose">BindToClose<a class="hash-link" href="#bindtoclose" title="Direct link to heading">â€‹</a></h3><p>Imagine we have a Macro that is running routines (<code>macro.State.IsRunning=true</code>), but we then delete the <code>ModuleScript</code> for that Macro, or we close the <a href="https://developer.roblox.com/en-us/api-reference/class/Plugin" target="_blank" rel="noopener noreferrer">Plugin</a>? We could still have code running that would&#x27;ve normally been stopped by toggling the Macro. This is where <a href="/Socket/api/MacroDefinition#BindToClose">BindToClose</a> comes in.</p><p>Example:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> Heartbeat </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> game</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">GetService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;RunService&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Heartbeat</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- MacroDefinition that, when running, will print the time since the last frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> macroDefinition </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Function </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> plugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- Toggle running state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">ToggleIsRunning</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- Get Variables</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> isRunning </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">IsRunning</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> isRunning </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">State</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">HeartbeatConnection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> Heartbeat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">Connect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                    Logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">MacroInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dt: %f&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">elseif</span><span class="token plain"> macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">State</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">HeartbeatConnection </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">State</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">HeartbeatConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">Disconnect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">State</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">HeartbeatConnection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">nil</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        BindToClose </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> plugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">State</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">HeartbeatConnection </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">State</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">HeartbeatConnection</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">Disconnect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">State</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">HeartbeatConnection </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">nil</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above situation, toggling <code>IsRunning</code> from outside the scope of <code>Function</code> will still cause routines to keep running! <a href="/Socket/api/MacroDefinition#BindToClose">BindToClose</a> saves the day by ensuring <code>HeartbeatConnection</code> is disconnected.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Naturally when <code>BindToClose</code> is called by <strong>Socket</strong>, we also toggle <code>IsRunning=false</code> - so if you hade a routine like:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">while</span><span class="token plain"> macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">State</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">IsRunning </span><span class="token keyword" style="font-style:italic">do</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The loop would stop and does not require a <code>BindToClose</code> function. We also cleanup the <code>RunJanitor</code> when <code>BindToClose</code> is called. We can pass any Instances, or other routines, to the <a href="/Socket/api/MacroDefinition#RunJanitor">RunJanitor</a> to be cleaned up when the Macro stops running. Check out the API <a href="/Socket/api/MacroDefinition#BindToClose">here</a></p></div></div><p>The above example was to demonstrate the functionality of <code>BindToClose</code>; a much cleaner structure would be:</p><div class="language-lua codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-lua codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> Heartbeat </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> game</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">GetService</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;RunService&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Heartbeat</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- MacroDefinition that, when running, will print the time since the last frame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">local</span><span class="token plain"> macroDefinition </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Function </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> plugin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- Toggle running state</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">ToggleIsRunning</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- RETURN: Not running</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">not</span><span class="token plain"> macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">IsRunning</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- Setup Loop</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">RunJanitor</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">Add</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Heartbeat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">Connect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">function</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                Logger</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token function" style="color:rgb(130, 170, 255)">MacroInfo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">macro</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dt: %f&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token keyword" style="font-style:italic">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">-- ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/JoelBrd/Socket/edit/main/docs/YourFirstMacro.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Socket/docs/Installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Socket/docs/Luau"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Luau</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-new-macro" class="table-of-contents__link toc-highlight">Creating a new Macro</a></li><li><a href="#creating-our-code" class="table-of-contents__link toc-highlight">Creating our code</a><ul><li><a href="#parameters" class="table-of-contents__link toc-highlight">Parameters</a></li><li><a href="#logging" class="table-of-contents__link toc-highlight">Logging</a></li><li><a href="#using-the-macro-parameter" class="table-of-contents__link toc-highlight">Using the <code>macro</code> Parameter</a></li><li><a href="#bindtoclose" class="table-of-contents__link toc-highlight">BindToClose</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 JoelBrd. Built with Moonwave and Docusaurus.</div></div></div></footer></div>
<script src="/Socket/assets/js/runtime~main.9fb98b55.js"></script>
<script src="/Socket/assets/js/main.20b5481e.js"></script>
</body>
</html>